#SP

## 样本空间、事件和概率

##### Def 
- 一个随机实验的所有结果可能构成的集合称为该试验的**样本空间** 
- 样本空间的一个子集称为一个**事件** 
- 事件的**交**、**并**、**不可能事件**

##### Def 定义在事件上的概率
考察一个以 $S$ 为样本空间的试验，对于样本空间的每一个事件 $E$，我们可以找到一个满足以下条件的函数 $P(E)$：
- $$
0 \le P(E) \le 1
$$
- $$
P(S) = 1
$$
- 对于互不相容的事件 $E_{i}$，我们有：
$$
P(\bigcup_{n=1}^{\infty}E_{n}) = \sum_{n=1}^{\infty}P(E_{n})
$$
我们就将 $P(E)$ 称作事件发生的概率。

我们将 $E^{c}$ 作为事件 $E$ 的补，也就是说，$E^{c}= S-E$，那么，我们也有：
$$
P(E^{c}) = 1 - P(E)
$$

##### Theory 概率的容斥原理
根据 Venn 图或者其他手段，我们可以简单地得到两个事件的概率容斥原理：
$$
P(E \cup F) = P(E)+P(F) - P(EF)
$$
递归地，我们实际上可以证明：
$$
P(E_{1}\cup E_{2} \cup E_{3} \cdots \cup E_{n}) = \sum_{i}P(E_{i}) - \sum_{i<j} P(E_{i}E_{j}) + \sum_{i<j<k} P(E_{i}E_{j}E_{k}) +\cdots 
$$


## 条件概率、事件的独立性

##### Theory 条件概率
我们希望求解在事件 $F$ 发生的情况下，事件 $E$ 发生的概率，自然要使用事件 $EF$ 发生的概率除以事件 $F$ 发生的概率。
$$
P(E|F) = \frac{P(EF)}{P(F)}
$$
##### Theory 事件的独立性
如果两个事件发生的概率满足：
$$
P(EF) = P(E)P(F)
$$
这是因为，这个公式代表着
$$
P(E) = P(E|F) =  \frac{P(EF)}{P(F)}
$$
那么，不独立的两个事件就被称为是相依的

## 贝叶斯推断

我们先考虑两个事件 $E$ 和 $F$，我们可以将事件 $E$ 表示为：
$$
E = EF \cup  EF^{c} 
$$
那么，我们求：
$$
P(E) = P(E|F) P(F) + P(E|F^{c})(1-P(F))
$$
这个公式可以进行扩展。我们有一系列互不相容的事件 $F_{1}, F_{2}\cdots ,F_{n}$，使得 $\bigcup F_{i}= S$，那么
$$
P(E) = \sum_{i}P(EF_{i}) = \sum_{i}P(E|F_{i})P(F_{i})
$$
现在，我们已知事件 $E$ 发生了，我们希望推断事件 $F_{1}, F_{2},\cdots ,F_{n}$ 中哪个发生。那么
$$
P(F_{j}|E) = \frac{P(EF_{j})}{P(E)} = \frac{P(E|F_{j})P(F_{j})}{\sum_{i}P(E|F_{i})P(F_{i})}
$$
