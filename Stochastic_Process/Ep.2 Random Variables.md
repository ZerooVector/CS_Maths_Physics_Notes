#SP

在进行独立重复试验时，相较于结果本身，我们可能对于定义在样本空间上的一些实值函数更感兴趣。我们将这样的一些实值函数称为随机变量。由于每一个随机变量都是由样本空间中的试验结果确定的，我们就可以给随机变量指定概率。随机变量可以是离散的，也可以是连续的。

##### Def 累积分布函数
随机变量 $X$ 的累积分布函数定义为：
$$
F(b) = P(X \le b)
$$
它具有如下三个显然的性质
- 单调不减
- $F (\infty) = 1$
- $F (- \infty) = 0$
我们可以通过 $F (x)$ 的差值计算概率：
$$
P(a \le X \le b) = F(b) - F(a)
$$

## 离散型和连续型随机变量

### 离散型

##### Def 伯努利随机变量
如果一个变量的取值只能为 1 或 0，那么这是一个伯努利随机变量
$$
p(1) = p \quad p(0) = 1-p
$$

##### Def 二项随机变量
我们做了 $n$ 次独立重复试验，每次试验中成功的概率为 $p$，用随机变量 $X$ 代表在 $n$ 次试验中成功的次数，那么我们称随机变量 $X$ 服从二项分布 (Binomial Distribution)。其概率密度为：
$$
p(X=i) = C_{n}^{i}p^{i}(1-p)^{n-i} 
$$
##### Def 几何随机变量
我们现在记 $X$ 为首次成功时的独立重复试验次数，那么先要失败 $X-1$ 次，再成功一次，也就是说：
$$
p(X= i) = (1-p)^{i-1}p
$$
我们称 $X$ 服从几何分布

##### Def 泊松分布随机变量
我们直接通过概率密度函数来定义泊松分布：
$$
p(X=i) = \frac{e^{-\lambda}\lambda^{i}}{i!}
$$
其重要性质是**如果二项分布是事件发生概率很小**，可以用来近似二项分布。这是因为，注意到：
$$
P(X=i)_{binomial} = \frac{n!}{(n-i)!i!}p^{i}(1-p)^{n-i} 
$$
现在，我们将 $\lambda$ 定义为 $\lambda=  np$（也就是在独立重复试验中事件发生的期望次数），改写上式：
$$
P(X = i) = \frac{n!}{(n-i)!i!}\frac{\lambda}{n}^{i}(1-\frac{\lambda}{n})^{n-i} 
$$
继续化简：
$$
P(X = i) = \frac{n(n-1)(n-2)\cdots (n-i+1)}{n^{i}}\frac{\lambda^{i}}{i!} \frac{(1-\lambda/n)^{n}}{(1-\lambda/n)^{i}}
$$
第一项趋近于 1，第三项分母趋近于 1 ，分子趋近于 $e^{-\lambda}$，那么显然得证。显然，在 $i$ 很接近于 $n$ 的时候，这个近似也失效。

### 连续型

显然，有些随机变量只能取可列个值，但是，有些随机变量的取值是不可列的。这些随机变量就是连续型随机变量。
##### Def 连续型随机变量的概率密度函数
若我们有定义在 $(-\infty ,+\infty)$ 上的非负函数 $f(x)$，使得：
$$
P(x \in B) = \int_{B}f(x)dx
$$
那么 $f(x)$ 称为连续随机变量的概率密度函数。
显然，累积分布函数和概率密度函数有如下关系：
$$
F(a) = \int_{-\infty}^{a}f(x)dx
$$
$f(x)$ 的意义是：**$f (a)$ 是随机变量在 $a$ 附近可能性大小的量度。**（它本身不代表任何的概率，积分后才是概率）

##### Def 均匀分布

##### Def 指数分布
如果随机变量 $X$ 服从如下分布：
$$
f(x) = \begin{cases}
\lambda e ^{-\lambda x} \quad &x \ge  0 \\
0 \quad &x < 0 
\end{cases}
$$
我们说它是指数分布的。

##### Def Gamma 分布
Gamma 分布是指数分布的推广：
$$
f(x) = \begin{cases}
\lambda e ^{-\lambda x} \frac{(\lambda x)^{\alpha - 1}}{\Gamma (\alpha)} \quad &x \ge  0 \\
0 \quad &x < 0 
\end{cases}
$$
你要问 Gamma 分布有什么用？==ChatGPT==

>伽玛分布在实际应用中有广泛的意义，以下是一些常见的应用场景：
>1.  等待时间：在排队论和可靠性分析中，伽玛分布可以用于表示在一段时间内的事件发生次数，例如客户到达商店的时间间隔、电话呼叫的时间间隔等。
>2. 生命周期：伽玛分布可以用于表示某些产品或设备的寿命，例如电子设备、机械零件等的寿命。
>3. 衰减过程：在放射性衰变、光学衰减等物理过程中，伽玛分布可以用于描述衰减的时间分布。



##### Def 正态分布
$$
f(x) = \frac{1}{\sqrt{2 \pi}\sigma} \exp(-(x-\mu)^{2}/2\sigma^{2})
$$

## 描述随机变量：均值和方差

### 均值（期望）

##### Def 离散型随机变量的期望
$X$ 的期望值是 $X$ 所有可取值的**加权平均**，因此，离散型随机变量的期望定义为：
$$
E[X] = \sum_{x:p(x)>0}xp(x)
$$

这里我们只演示一个：几何分布。这需要一些级数求和的技巧
##### Example 几何分布的期望
$$
E[X] = \sum_{n=1}^{\infty}npq^{n-1} = \sum_{n}p \frac{\mathrm{d}}{\mathrm{d}q}(q^{n}) = p \frac{\mathrm{d}}{\mathrm{d}}(\sum_{n} q^{n})=\frac{p}{(1-q)^{2}} = \frac{1}{p} 
$$
这在直观上很好理解——每次实验都有 $p$ 的可能性成功，那么要想成功一次，就得做 $1/p$ 次实验
我们不加证明地指出，二项分布的期望为 $np$，泊松分布的期望为 $\lambda$

##### Def 连续型随机变量的期望
显然，仿照离散的情况，我们应该使用概率密度函数对 $X$ 的取值进行加权：
$$
E[X] = \int_{-\infty}^{+\infty} xf(x)dx 
$$

我们也只演示其中一个：正态分布。我们要证明，正态分布期望为 $\mu$。

##### Example 正态分布的期望
$$
\begin{align*}
E[X] &= \int x \frac{1}{\sqrt{2 \pi}\sigma} \exp\frac{-(x-\mu)^{2}}{2\sigma^{2}}dx\\
&= \int (x-\mu)\frac{1}{\sqrt{2 \pi}\sigma} \exp\frac{-(x-\mu)^{2}}{2\sigma^{2}}d(x-\mu)+ \int \mu\frac{1}{\sqrt{2 \pi}\sigma} \exp(-(x-\mu)^{2}/2\sigma^{2})dx\\
 &= 0 + \mu\\
 &= \mu
\end{align*}
$$
我们不加证明地指出，均匀分布的期望为 $(\alpha+\beta)/2$，指数分布的期望为 $1/\lambda$ 。

##### Def 随机变量函数的期望
如果我们希望计算 $X$ 的某个函数的期望值，我们其实就是在计算一个新的随机变量 $Y = g(X)$ 的期望。这里我们首先不加证明地给出计算结果：
$$
E[g(X)] = \int_{-\infty }^{+\infty} g(x)f(x)dx
$$
接下来我们再给出复杂的证明：==略== 
这个命题的一个直接推论就是期望的性质：
$$
E[ax+b] = aE[x]+b
$$

##### Def 随机变量的原点矩
对于一个离散型随机变量，我们将
$$
E[X^{n}] = \sum x^{n}p(x)
$$
或者对于连续型随机变量
$$
E[X^{n}] = \int_{-\infty}^{+\infty} x^{n}f(x)dx 
$$
定义为 $n$ 阶原点矩。

此外，我们类似地定义 $n$ 阶中心矩：
$$
E[X^{n}] = \int_{-\infty}^{+\infty} (x-E[X])^{n} dx
$$
这些矩所提供的信息有不同的统计意义：
>1.  一阶矩（First moment）：$E[X]$，即随机变量 $X$ 的期望或均值，反映了随机变量的中心位置。
>2. 二阶中心矩（Second central moment）：$E[(X-E[X])^2]$，即随机变量 $X$ 的方差，反映了随机变量的离散程度或波动情况。
>3. 三阶中心矩（Third central moment）：$E[(X-E[X])^3]$，与随机变量 $X$ 的偏度（skewness）相关，反映了随机变量分布的不对称性。正偏度表示分布右侧的尾部较长，负偏度表示分布左侧的尾部较长。
>4. 四阶中心矩（Fourth central moment）：$E[(X-E[X])^4]$，与随机变量$X$的峰度（kurtosis）相关，反映了随机变量分布的尖峰或平坦程度。峰度大于3表示分布较尖，峰度小于3表示分布较平坦。

叫做矩的原因是，一阶矩和物理中的力矩有相似的形式，而二阶矩和惯量相似

## 随机变量的联合分布



## 矩母函数


## 发生事件数的分布


## 大数定律、中心极限定理

