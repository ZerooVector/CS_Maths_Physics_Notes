#OPTandOR 

## 算法介绍

之前，我们使用了随机登山算法，通过随机性来使得避免陷入局部最优。但是，这个算法仍然存在问题——如果目前已经搜索到了最优解，那么仍然有可能退化到更劣的解。因此，我们提出“模拟退火”——允许随机性的强度随着迭代的次数发生变化。

![[Pasted image 20230330154024.png]]
![[Pasted image 20230330154403.png]]
![[Pasted image 20230330154416.png]]

## 可行性证明

接下来，我们证明：在满足一系列条件时，在 $T \rightarrow 0$ 时，算法可以找到全局最优解。

- 首先，我们考虑温度固定的情况下，算法找到最优解的概率
假设我们的解空间中只有四个解，每行，每列的两个解是邻域解。那么显然，我们可以计算跳向每一个邻域解的概率：
![[Pasted image 20230330155410.png|450]]

那么，我们可以写出一个转移矩阵
![[Pasted image 20230330155611.png|400]]

这是 Markov 链，最后会达到一个平稳分布。这个平稳分布可以由：
$$
\pi P = P
$$
![[Pasted image 20230330161256.png|400]]

## SA 的使用
- 需要较高的起始温度，使得比当前解差的邻域解能以很高的概率被接受 (0.98 左右)。实际中，可以从小到大地尝试很多起始值，也可以代入公式：
  ![[Pasted image 20230330162124.png|400]]
- 降温过程中，可以使得温度几何地递减，或者线性、对数递减；可以设置在某个固定的温度下执行特定的步数
- 理论上，结束条件是 $T=0$，实际上，你可以使用多种标准：
![[Pasted image 20230330162521.png|400]]

##### Example 求解背包问题
![[Pasted image 20230330163213.png|400]]
![[Pasted image 20230330163631.png|500]]



![[Pasted image 20230330164014.png]]

