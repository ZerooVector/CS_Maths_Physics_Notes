

#MLorDS 

数据模型：将现实中的数据之间的关系抽象成一个概念模型，然后再将概念模型转换成数据模型

## E-R 概念模型
### ER 模型的基本解释
概念模型：用来描述用户的需求，是一种非技术性的，用于和数据库用户沟通的语言
要求具有较强的语言表达能力，易于用户理解

**E-R 概念模型就是 Entity-Relationship**
- Entity：要求客观存在且相互可以区别的事物，例如本笔记体系中的一份笔记
- Attribute：是指实体具有的属性。例如，本体系中的所有笔记具有笔记的标题、tag、长度等等属性.。属性的类型就是变量名，属性的值就是具体的值。
- Relationship : 实体内部、实体之间的联系。内部的联系通常发生在属性之间；外部的联系，例如知识图谱。按照联系的方式可以分为 1 对 1 ，1 对多，多对多
	- 1 对 1 的联系：$A$ 中的一个实体 $E_1$ **至多**（可以不联系）与实体集 $B$ 中的一个实体 $E_2$ 相联系，反之亦然
	- 1 对多的联系： $A$ 中一个可以对应 $B$ 中多个，但是 $B$ 中的一个只能至多联系 $A$ 中的一个
	- 多对多的联系：
	- 两个以上实体集的联系
![[Chapter 2 Data Model 2023-02-23 13.47.42.excalidraw]]
右边的图只能表达供应商和工程的关系，但是左边的图可以表达供应商给了哪个零件给哪个工程，表达的语义更加丰富
同一实体集内的联系，比如领导和职工，都属于职工实体，但是，一个领导可以领导若干职工

### 构建 ER 模型的方法：ER 图
![[Chapter 2 Data Model 2023-02-23 13.54.40.excalidraw|500]]

E-R 模型中实体间的联系提供了较多的语义：
- 基数比约束：1 对 1 ，1 对多，多对多 
- 参与约束：完全参与（一个实体集中所有的实体全部参与了联系）、部分参与
- 实体参与度：实体参与联系的最小和最大次数。例如规定学生的选课数目必须在 2-5 之间，则其参与度就是 $[2,5]$，换言之，就是图上点的度。参与度可以表达基数比约束和参与约束

ER 模型中有一种特殊的实体，它们是依赖于其他的实体（强实体）存在，因此，弱实体全部参与。
![[Chapter 2 Data Model 2023-02-23 14.13.51.excalidraw|300]]

Subclass: 同一个实体集内部，根据其独有的属性再做划分
Superclass: 统领子类的类称为超类

![[Chapter 2 Data Model 2023-02-23 14.16.46.excalidraw]]

特点；
- 仅仅表示信息间的关系，不涉及数据在计算机中的具体存储
- 用户需求不变，则 E-R 模型稳定
- 可以方便地转化成数据模型
**画图的时候一定注意：把实体的属性标明白！**
==此部分必考！==

## 狭义的数据模型——根据数据结构的不同分类
### 层次数据模型
**定义：使用树形结构表示各类实体间的联系，满足树形结构的模型就是层次模型**
- 仅有一个根节点
- 除了根节点只能有一个父节点
父节点到子节点之间，表明了一对多的联系
![[Pasted image 20230223143334.png|500]]

缺点：
- 不能表达多对多联系/复杂联系
- 对数据的插入和删除限制太多
- 只能自上而下地递归查找
- 层次命令趋于程序化

### 网状数据模型
在树模型的基础上扩展出来：
- 允许一个以上的节点无双亲 (Forest)
- 一个节点可以有多个双亲 (Directed Graph)

优点：高效（指针实现）；数据库结构、DDL 和 DML 都很复杂
容易发现，层次模型是网状模型的特例

### 关系数据模型
#### 关系模型的基本结构
- 基本的数据结构是二维表，一张二维表称为一个关系
- 二维表由多个行和列组成，一张表格（关系）可以用于描述一个实体集
- 
| 入学年份 | 姓名 | 身份 |
| -------- | ---- | ---- |
| 2021     | SYH  |   学生   |
| 2021     | TDW  |      学生|
| 2019     | WHZ  |      老师|
- 域 (domain)是某个属性取值的集合
- 一个属性 (attribute) 就是表格中的一列
- 一个 tuple 就是一个个体，tuple 里面每个属性上的取值叫做 tuple 在这个属性上的 component
- Key 是能够唯一标识一个元组的一个或多个属性
- 关系的每一个分量必须不可再分

##### 关系模式
对关系结构的描述称为关系模式，即：关系名 (att1, att2, attn)
例如学生（学号，姓名，...）
关系数据库模式就是一组关系模式的集合，这些关系模式对应的关系的集合称为关系数据库

##### 从 ER 模型向关系模型的映射
![[Pasted image 20230227132210.png|450]]

### 面向对象数据模型
#### 对象
包括属性 (Attribute) （这个对象有什么）与方法 (Method)（你对这个对象能做什么）

#### 对象标识
相当于键，是每个对象的唯一标识

#### 封装
要和外界交互必须通过调用方法

#### 类
类是对象的集合，对象是类的实例 (instance)

![[Pasted image 20230227133406.png|450]]

**由于关系数据库具有不可撼动的地位，因此，在下面的研究中，我们将主要研究关系数据库**

