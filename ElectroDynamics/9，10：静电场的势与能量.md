#ElectroDynamics 

## 电势的导出
在上一节中，我们提到过，静电场是无旋的。这个特性可以让我们化简许多有关静电场的问题。其中，最重要的化简手段就是将电场写为某个标量的梯度。我们首先来证明这一点。
我们之前已经提到过，$\int E \cdot dl$ 这个积分仅仅与积分的起止点有关而与路径无关。因此我们将 $\mathcal{O}$ 定为某个参考点，定义一个函数由从 $\mathcal{O}$ 到 $r$ 的积分决定，这个函数被称为电势：
$$
V(r) = - \int_{\mathcal{O}}^{r} E \cdot dl 
$$
注意到两点间的电势差：
$$
V(b) - V(a) = - \int_{a}^{b} E \cdot dl  = \int_{a}^{b} (\nabla V) \cdot dl  
$$
那么显然就有：
$$
E = - \nabla V
$$

我们可以对于这个定义做出一些讨论。例如：
- 为什么一个标量函数就可以包含电场的三个分量的信息？这是因为电场的旋度为 0，从而自然地提供了约束。
- 电势的零点可以任意选择。在大部分问题中（只要问题中涉及的电荷没有延伸至无穷远处），我们经常自然地将无穷远处选作电势的零点。在现实生活中，不会有电荷延伸至无穷远，因此我们完全可以将无穷远处视为零点。
- 电势遵循叠加定理。

从前面电场与电势的关系以及电场的散度表达中，我们可以直接推出泊松方程：
$$
\nabla^{2}V  =   - \dfrac{\rho }{\epsilon_{0}}
$$
在没有电荷的地方，上述方程退化为 $\nabla^{2}V = 0$，这被称为拉普拉斯方程。至于
$$
\nabla \times (-  \nabla V) = 0
$$
则没有提供新的东西。因为我们已经知道梯度的散度必须为 0。

现在我们已经发现一个有趣的事实。如果我们希望计算电场，实际上先计算电势，再计算电场是更方便的。现在我们希望从电荷的分布中推导出电势的分布，我们逐步地解决这个问题。首先，假如我们将无穷远处选择为电势的零点，那么一个点电荷的电势是：
$$
V(r) = \dfrac{1}{ 4 \pi \epsilon_{0}} \dfrac{q}{\mathscr{r}}
$$
那么，对于在空间中任意分布的电荷（当然，这些电荷不能延伸至无穷远处）有：
$$
V(r) = \dfrac{1}{4 \pi \epsilon_{0}} \int \dfrac{\rho (r')}{\mathscr{r }} d \tau'
$$
这实际上是泊松方程的一个解。

在讨论完电势以后，我们希望讨论一下电场和电势在边界上的变化情况。例如，如果一个界面上有电荷面密度 $\sigma$，那么界面两侧的电场必然是不连续的。对于法向电场，我们可以使用高斯定理求解：我们只要选择一个紧贴着界面的高斯面，即可得到：
$$
E_{1,n} - E_{2,n} = \dfrac{\sigma}{\epsilon_{0}}
$$
 对于切向电场，我们只需要取一个穿越界面两侧的环，利用 $\oint E \cdot dl=0$，立刻得到：
$$
E_{1,t} = E_{2,t}
$$
将以上两式总结，我们得到：
$$
E_{1} - E_{2} = \dfrac{\sigma}{\epsilon_{0}} \hat n 
$$
利用电势差的定义式，我们很容易发现电势在界面上是连续的，但是电势的梯度一定不连续，显然有：
$$
\nabla V_{1} - \nabla V_{2} = - \dfrac{1}{\epsilon_{0}}\sigma\hat n 
$$
或者可以写成一个简单的表达方式（上式两侧点一下 $\hat n$ 即可）：
$$
\dfrac{\partial V_{1}}{\partial n} - \dfrac{\partial V_{2}}{\partial n} = - \dfrac{1}{\epsilon_{0}}\sigma  \quad (\dfrac{\partial V}{\partial n} = \nabla V \cdot \hat n ) 
$$

## 电场的能量
首先考虑一个很简单的事实：将一个电量为 $Q$ 的点电荷从 a 点移动到 b 点，需要做多少功。显然是：
$$
W = - Q \int_{a}^{b} E \cdot dl = Q(V(b)-  V(a))
$$
那么，b、a 两点的电势差实际上是将单位电量的点电荷从 a 点搬运到 b 点需要做的功。如果将一个点电荷从无穷远处移动至 $r$ 处，需要做功 $W = QV(r)$。

我们现在考虑建立起一个离散电荷体系需要多少能量。假定我们先移动一个 $q_{1}$ 电荷到某个位置，再移动 $q_{2}$ 电荷到某个位置。那么，在移动 $q_{1}$ 的时候我们不需要付出任何的能量，但是在移动 $q_{2}$ 的时候，我们需要消耗能量 $q_{2}V_{1}(r_{2})$，也就是：
$$
W_{2} = \dfrac{1}{4 \pi \epsilon_{0}} q_{2} \left( \dfrac{q_{1}}{\mathscr{r}_{12}}\right)
$$
我们可以继续移动第 3，4，或者更多个电荷，最终我们可以计算出消耗的总能量：
$$
W = \dfrac{1}{4 \pi \epsilon_{0}} \sum_{i=1}^{n} \sum_{j > i}^{n} \dfrac{q_{i} q_{j}}{ \mathscr{r}_{ij}}
$$
在这个情况下，重复的 $(i,j)$ 对只被计算了一次，在第二个求和号上有 $j>i$ 的限制。我们现在可以改写上式，使得重复的 $(i,j)$ 对被计算两次，也就是取消第二个求和号上的限制。相应地，我们应该给上式乘以系数 $\dfrac{1}{2}$，也就是说，我们所需的总能量（系统的总电势能）为：
$$
W = \dfrac{1}{8 \pi \epsilon_{0}} \sum_{i=1}^{n} \sum_{j \not =  i}^{n} \dfrac{q_{i} q_{j}}{ \mathscr{r}_{ij}}
$$
我们将 $q_{i}$ 提出来：
$$
W = \dfrac{1}{2} \sum_{i} q_{i} \left(\sum_{i \not = j} \dfrac{1}{4 \pi \epsilon_{0}} \dfrac{q_{j}}{\mathscr{r}_{ij}}\right) \ \Rightarrow \ W = \dfrac{1}{2} \sum_{i}q_{i}V(r_{i})
$$
这就是离散的点电荷系统内储存的能量的一般计算式。

我们再考虑一个连续电荷体系。此时，上式化为：
$$
W = \dfrac{1}{2} \int \rho V d \tau 
$$
我们现在希望将上式仅仅使用 $E$ 表示。利用高斯定理：
$$
\rho = \epsilon_{0}\nabla \cdot E \ \Rightarrow \ W = \dfrac{\epsilon_{0}}{2} \int (\nabla  \cdot E) V d \tau 
$$
我们进行如下的推导，利用矢量分析公式：
$$
\nabla \cdot (VE) = V(\nabla \cdot E) + E \cdot (\nabla V)
$$
利用散度定理（这个操作就像是分部积分）：
$$
\int_{V} \nabla  \cdot (V E) \  d \tau = \oint_{S} VE\  da = \int_{V} V(\nabla \cdot E) \ d \tau + \int_{V} E \cdot(\nabla V) \ d\tau
$$
我们就得到了：
$$
W = \dfrac{\epsilon_{0}}{2} \left(\int_{S} VE \  da - \int_{V} E \cdot (\nabla V) \ d\tau  \right) = \dfrac{\epsilon_{0}}{2} \left(\int_{S} VE \  da + \int_{V} E^{2} \ d\tau  \right) 
$$
上式的积分区域本来应当是包含所有电荷的区域，但是一个更简单的方式是直接在全空间积分，此时，面积分的一项变成 0。于是，我们给出了计算连续电荷分布的系统的能量公式：
$$
W = \dfrac{\epsilon_{0}}{2} \int E^{2}\  d \tau
$$
我们仍然对这里推导出的电势做一些讨论：
- 为什么 $\sum_{i}q_{i}V_{i}$ 可能是负的，但是 $\int E^{2} d \tau$ 一定为正？这是因为第一个式子中没有考虑点电荷形成的过程，更没有计及点电荷的能量（经过计算可知，一个点电荷的内的能量实际上是无限的），我们只是将点电荷移动到一起。在写出 $\int \rho V d \tau$ 时，$r$ 处的电荷很少，它对电势的贡献为 0. 因此这里的 $V$ 是所有电荷产生的电势，而没有扣除 $r$ 处的一点点电荷。
- 我们现阶段的知识无法说明电势是储存在电场里还是电荷里。我们可以提前说明结论：这个能量储存在电场里，能量密度就是我们上文中计算得到的 $\dfrac{\epsilon_{0}}{2}E^{2}$
- 显然，能量密度正比于 $E^{2}$，那么电场能量就不满足叠加定理。

