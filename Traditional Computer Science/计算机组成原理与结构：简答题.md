#TraditionalComputerScience 
## 中央处理器
CPU 的主要功能： 控制指令的执行顺序；产生控制信号控制部件工作；控制各步操作的时序；数据处理：算术和逻辑运算；

CPU 的组成：数据通路指：指令执行过程中，数据所经过的路径，包括路径中的部件。它是指令的执行部件，包含寄存器、运算部件等。控制器：对指令进行译码，生成指令对应的控制信号，控制数据通路的动作。它能对执行部件发出控制信号，因此是指令的控制部件。如译码器、时序控制等。

控制器有哪几种控制方式？各有何特点？ 解：控制器的控制方式可以分为３种：同步控制方式、异步控制方式和联合控制方式。同步控制方式的各项操作都由统一的时序信号控制，在每个机器周期中产生**统一数目的节拍电位和工作脉冲**。这种控制方式设计简单，容易实现；但是对于许多简单指令来说会有较多的空闲时间，造成较大数量的时间浪费，从而影响了指令的执行速度。异步控制方式的各项操作不采用统一的时序信号控制，而**根据指令或部件的具体情况决定，需要多少时间，就占用多少时间**。异步控制方式没有时间上的浪费，因而提高了机器的效率，但是控制比较复杂。联合控制方式是同步控制和异步控制相结合的方式。

什么是三级时序系统？ 解：三级时序系统是指机器周期、节拍和工作脉冲。计算机中每个指令周期划分为若干个机器周期，每个机器周期划分为若干个节拍，每个节拍中设置一个或几个工作脉冲

控制器有哪些基本功能？它可分为哪几类？分类的依据是什么？ 解：控制器的基本功能有： （１） 从主存中取出一条指令，并指出下一条指令在主存中的位置。 （２） 对指令进行译码或测试，产生相应的操作控制信号，以便启动规定的动作（３） 指挥并控制 CPU、主存和输入输出设备之间的数据流动。控制器可分为组合逻辑型、存储逻辑型、组合逻辑与存储逻辑结合型３类，分类的依据在于控制器的核心———微操作信号发生器（控制单元 CU）的实现方法不同

中央处理器有哪些功能？它由哪些基本部件所组成？ 第 6 章 171 解：从程序运行的角度来看，CPU 的基本功能就是对指令流和数据流在时间与空间上实施正确的控制。对于冯·诺依曼结构的计算机而言，数据流是根据指令流的操作而形成的，也就是说数据流是由指令流来驱动的。

中央处理器中有哪几个主要寄存器？试说明它们的结构和功能。解：CPU 中的寄存器是用来暂时保存运算和控制过程中的中间结果、最终结果及控制、状态信息的，它可分为通用寄存器和专用寄存器两大类。通用寄存器可用来存放原始数据和运算结果，有的还可以作为变址寄存器、计数器、地址指针等。专用寄存器是专门用来完成某一种特殊功能的寄存器，如程序计数器 PC、指令寄存器 IR、存储器地址寄存器 MAR、存储器数据寄存器 MDR、状态标志寄存器 PSWR 等

指令和数据都存放在主存，如何识别从主存储器中取出的是指令还是数据？ 解：指令和数据都存放在主存，它们都以二进制代码形式出现，区分的方法为： （１） 取指令或数据时所处的机器周期不同：取指周期取出的是指令；分析取数或执行周期取出的是数据。 （２） 取指令或数据时地址的来源不同：指令地址来源于程序计数器；数据地址来源于地址形成部件。

CPU 中指令寄存器是否可以不要？指令译码器是否能直接对存储器数据寄存器 MDR 中的信息译码？为什么？请以无条件转移指令 JMP A 为例说明。解：指令寄存器不可以不要。指令译码器不能直接对 MDR 中的信息译码，因为在取指周期 MDR 的内容是指令，而在取数周期 MDR 的内容是操作数。以 JMP A 指令为例，假设指令占两个字，第一个字为操作码，第二个字为转移地址，它们从主存中取出时都需要经过 MDR，其中只有第一个字需要送至指令寄存器，并且进行指令的译码，而第二个字不需要送指令寄存器。

什么是微命令和微操作？什么是微指令？微程序和机器指令有何关系？微程序和程序之间有何关系？ 解：微命令是控制计算机各部件完成某个基本微操作的命令。微操作是指计算机中最基本的、不可再分解的操作。微命令和微操作是一一对应的，微命令是微操作的控制信号，微操作是微命令的操作过程。微指令是若干个微命令的集合。微程序是机器指令的实时解释器，每一条机器指令都对应一个微程序。微程序和程序是两个不同的概念。微程序是由微指令组成的，用于描述机器指令，实际上是机器指令的实时解释器，微程序是由计算机的设计者事先编制好并存放在控制存储器中的，一般不提供给用户；程序是由机器指令组成的，由程序员事先编制好并存放在主存储器中。

什么是垂直型微指令？什么是水平型微指令？它们各有什么特点？又有什么区别？垂直型微指令的并行操作能力差，一般只能实现一个微操作，控制１～２个信息传送通路，效率低，执行一条机器指令所需的微指令数目多，执行时间长；但是微指令与机器指令很相似，所以容易掌握和利用，编程比较简单，不必过多地了解数据通路的细节，且微指令字较短。水平型微指令的并行操作能力强，效率高，灵活性强，执行一条机器指令所需微指令的数目少，执行时间短；但微指令字较长，增加了控存的横向容量，同时微指令和机器指令的差别很大，设计者只有熟悉了数据通路，才有可能编制出理想的微程序，一般用户不易掌握。

## 输入输出设备和中断

水平型和垂直型微程序设计之间各有什么区别？串行微程序设计和并行微程序设计有什么区别？水平型微程序设计是面对微处理器内部逻辑控制的描述，所以把这种微程序设计方法称为硬方法；垂直型微程序设计是面向算法的描述，所以把这种微程序设计方法称为软方法。在串行微程序设计中，取微指令和执行微指令是顺序进行的，在一条微指令取出并执行之后，才能取下一条微指令；在并行微程序设计中，将取微指令和执行微指令的操作重叠起来，从而缩短微周期

说明磁介质存储器的存储原理。解：磁介质存储器的存储过程是一种电磁转换的过程。在磁介质存储器中，信息是记录在一薄层磁性材料上的，这个薄层称为磁层。磁层与所附着的载体称为记录介质或记录媒体。磁头是磁记录设备的关键部件之一，是一种电磁转换元件，能把电脉冲表示的二进制代码转换成磁记录介质上的磁化状态，即电→磁转换；反过来，能把磁记录介质上的磁化状态转换成电脉冲，即磁→电转换。


什么是计算机的输入输出系统？输入输出设备有哪些编址方式？有什么特点？ 解：计算机的输入输出系统包括输入输出接口和输入输出信息传送控制方式等，它输入输出系统们是整个计算机系统中最具有多样性和复杂性的部分。输入输出设备有两种编址方式：I／O 映射方式（独立编址）和存储器映射方式（统一编址），独立编址的优点是 I／O 指令和访存指令容易区分，外设地址线少，译码简单，主存空间不会减少，缺点是控制线增加了 I／O 读和 I／O 写信号；统一编址的优点是总线结构简单，全部访存类指令都可用于控制外设，可直接对外设寄存器进行各种运算，占用主存一部分地址，缩小了可用的主存空间。

什么是 I／O 接口？I／O 接口有哪些特点和功能？接口有哪些类型？ 解：I／O 接口是主机和外设之间的交接界面，通过接口可以实现主机和外设之间的信息交换。接口的基本功能有：实现主机和外设的通信联络控制；进行地址译码和设备选择；实现数据缓冲；完成数据格式的变换；传递控制命令和状态信息。接口按数据传送方式分类，有串行接口和并行接口；按控制方式分类，有程序查询接口、程序中断接口、DMA 接口；按灵活性分类，有可编程接口和不可编程接口；按通用性分类，有通用接口和专用接口；按 I／O 信号分类，有数字接口和模拟接口；按应用分类，有运行辅助接口、用户交互接口、传感接口、控制接口。 （这个不重要）


．并行接口和串行接口实质上的区别是什么？其界面如何划分？各有什么特点？ 解：有串行接口和并行接口。两者的实质区别在于外设和接口一侧的传送方式不同，而在主机和接口一侧，数据总是并行传送的。在并行接口中，外设和接口间的传送宽度是一个字节（或字）的所有位，一次传输的信息量大，但数据线的数目将随着传送数据宽度的增加而增加。在串行接口中，外设和接口间的数据是一位一位串行传送的，一次传输的信息量小，但只需一根数据线。在远程终端和计算机网络等设备离主机较远的场合下，用串行接口比较经济划算

程序查询方式、程序中断方式、DMA 方式各自适用什么范围？下面这些结论正确吗？为什么？ （１） 程序中断方式能提高 CPU 利用率，所以在设置了中断方式后就没有再应用程序查询方式的必要了。 （２） DMA 方式能处理高速外部设备与主存间的数据传送，高速工作性能往往能覆盖低速工作要求，所以 DMA 方式可以完全取代程序中断方式。解：程序查询方式、程序中断方式、DMA 方式各自适用的范围见前述。 （１） 不正确。程序查询方式接口简单，可用于外设与主机速度相差不大，且外设数量很少的情况。 （２） 不正确。DMA 方式用于高速外部设备与主存间的数据传送，但 DMA 结束时仍需程序中断方式做后处理。
- 仅适用于外设的数目不多、对 I／O 处理的实时要求不高、CPU 的操作任务比较单一、并不很忙的情况
- 程序中断不仅适用于外部设备的输入输出操作，也适用于对外界发生的随机事件的处理。由于完成一次程序中断还需要许多辅助操作，因此主要适用于中、低速外设
- DMA 方式只能进行简单的数据传送操作，在数据块传送的起始和结束时还需 CPU 及中断系统进行预处理和后处理

如果采用程序查询方式从磁盘上输入一组数据，设主机执行指令的平均速度为输入输出系统 １００ 万条指令每秒，试问从磁盘上读出相邻两个数据的最短允许时间间隔是多少？若改为中断式输入，这个间隔是更短些还是更长些？由此可得出什么结论？ 解：指令的平均执行时间为１μs，若采用程序查询方式，每传送一个数据至少需要５ 条指令，则从磁盘上读出相邻两个数据的最短允许时间间隔为５μs。若改为中断方式输入，这个间隔不会缩短，只会延长。由此可知，中断方式并不适合磁盘这类高速外设使用。

什么是中断？外部设备如何才能产生中断？ 解：中断是指：计算机执行现行程序的过程中，出现某些急需处理的异常情况和特殊请求，CPU 暂时中止现行程序，而转去对随机发生的更紧迫的事件进行处理，在处理完毕后，CPU 将自动返回原来的程序继续执行。外部设备（中断源）准备就绪后会主动向 CPU 发出中断请求。**通常由外设的完成信号将相应的中断请求触发器置成“１”状态**，表示该中断源向 CPU 提出中断请求。

CPU 响应中断应具备哪些条件？ 解：① CPU 接收到中断请求信号； ② CPU 允许中断； ③ 一条指令执行完毕。

什么叫中断隐指令？中断隐指令有哪些功能？中断隐指令如何实现？ 解：CPU 响应中断之后，经过某些操作，转去执行中断服务程序。这些操作是由硬件直接实现的，称为中断隐指令。中断隐指令并不是指令系统中的一条真正的指令，它没有操作码，所以中断隐指令是一种不允许、也不可能为用户使用的特殊指令。其所完成的操作主要有： ① 保存断点； ② 暂不允许中断； ③ 引出中断服务程序。

什么是中断向量？中断向量如何形成？向量中断和非向量中断有何差异？ 解：中断向量是指向量中断在中断事件在提出中断请求时，通过硬件向主机提供的中断向量地址。**中断向量由中断源的有关硬件电路形成**。向量中断和非向量中断的区别在于：前者是指那些中断服务程序的入口地址是由中断事件自己提供的中断；后者是指中断事件不能直接提供中断服务程序入口地址的中断。

CPU 响应 DMA 请求和响应中断请求有什么区别？为什么通常使 DMA 请求的优先级高于中断请求？ 解：对中断请求的响应时间只能发生在每条指令执行完毕时，而对 DMA 请求的响应时间可以发生在每个机器周期结束时。DMA 方式常用于高速外设的成组数据传送，如果不及时处理将丢失信息，所以 DMA 请求的优先级应高于中断请求。

DMA 传送方式是在外设和主存之间开辟一条“直接数据通道”，在不需要 CPU 输入输出系统干预也不需要软件介入的情况下在两者之间进行的高速数据传送方式。常用的 DMA 传送方法有：CPU 停止访问主存法、存储器分时法和周期挪用法。 CPU 停止访问主存法适用于高速外设的成组传送，可以减少系统总线控制权的交换次数，有利于提高输入输出的速度。第 8 章 241 存储器分时法无需申请和归还总线，可在 CPU 不知不觉中进行了 DMA 传送；但这种方法需要主存在原来的存取周期内为两个部件服务，如果要维持 CPU 的访存速度不变，就要求主存的工作速度提高一倍。另外，由于大多数外设的速度都不能与 CPU 相匹配，所以供 DMA 使用的时间片可能成为空操作，将会造成一些不必要的浪费。周期挪用法是前两种方法的折中。

实现 DMA 传送需要哪些硬件支持？ 解：DMA 传送需要 DMA 控制器的支持。DMA 控制器中主要有下面各部分。主存地址计数器：用来存放待交换数据的主存地址。传送长度计数器：用来记录传送数据块的长度。数据缓冲寄存器：用来暂存每次传送的数据。 DMA 请求触发器：每当外设准备好数据后给出一个控制信号，使 DMA 请求触发器置位。控制／状态逻辑：用于指定传送方向，修改传送参数，并对 DMA 请求信号和 CPU 响应信号进行协调和同步。中断机构：当一个数据块传送完毕后触发中断机构，向 CPU 提出中断请求，CPU 将进行 DMA 传送的结束处理。

简述 DMA 传送的工作过程。解 ：DMA 传送的工作过程为： ① DMA 预处理：在 DMA 传送之前必须要做准备工作，即初始化。CPU 首先执行几条 I／O 指令，用于测试外设的状态、向 DMA 控制器的有关寄存器设置初值、设置传送方向、启动该外部设备等。在这些工作完成之后，CPU 继续执行原来的程序，由外设向 DMA 控制器发 DMA 请求，再由 DMA 控制器向 CPU 发总线请求。 ② 数据传送：DMA 的数据传送可以单字节（或字）为基本单位，也可以数据块为基本单位。 ③ DMA 后处理：当传送长度计数器计到０时，DMA 操作结束，DMA 控制器向 CPU 发中断请求，CPU 停止原来程序的执行，转去执行中断服务程序做 DMA 结束处理工作。

总线的同步通信和异步通信有何不同？试举例说明一次全互锁异步应答的通信情况。解：总线的同步通信是指系统采用一个统一的时钟信号来协调发送和接收双方的传送定时关系。时钟产生相等的时间间隔，每个间隔构成一个总线周期。总线的异步通信没有公用的时钟，也没有固定的时间间隔，完全依靠传送双方相互制约的“握手”信号来实现定时控制。全互锁异步应答的通信过程为：“请求”信号的来到导致“回答”信号的来到，“请求”信号的撤销取决于“回答”信号的来到，而“请求”信号的撤销又导致“回答”信号的撤销

## 存储系统
并行存储器有哪几种编址方式？简述低位交叉编址存储器的工作原理。解：并行存储器有单体多字、多体单字和多体多字等几种系统。多体交叉访问存储器可分为高位交叉编址存储器和低位交叉编址存储器。低位交叉编址又称为横向编址，连续的地址分布在相邻的存储体中，而同一存储体内的地址都是不连续的。存储器地址寄存器的低位部分经过译码选择不同的存储体，而高位部分则指向存储体内的存储字。如果采用分时启动的方法，可以在不改变每个存储体存取周期的前提下，提高整个主存的速度。

什么是高速缓冲存储器？它与主存是什么关系？其基本工作过程如何？ 解：高速缓冲存储器位于主存和 CPU 之间，用来存放当前正在执行的程序段和数据存储系统和结构中的活跃部分，使 CPU 的访存操作大多数针对 Cache 进行，从而使程序的执行速度大大提高。高速缓冲存储器的存取速度接近于 CPU 的速度，但是容量较小，它保存的信息只是主存中最急需处理的若干块的副本。当 CPU 发出读请求时，如果 Cache 命中，就直接对 Cache 进行读操作，与主存无关；如果 Cache 不命中，则仍需访问主存，并把该块信息一次从主存调入 Cache 内。若此时 Cache 已满，则须根据某种替换算法，用这个块替换掉 Cache 中原来的某块信息。

Cache 做在 CPU 芯片内有什么好处？将指令 Cache 和数据 Cache 分开又有什么好处？ 解：Cache 做在 CPU 芯片内可以提高 CPU 访问 Cache 的速度。将指令 Cache 和数据 Cache 分开的好处是分体缓存支持并行访问，即在取指部件取指令的同时，取数部件要取数据。并且，指令在程序执行中一般不需要修改，故指令 Cache 中的内容不需写回到主存中去。

如何区别存储器和寄存器？两者是一回事的说法对吗？ 解：存储器和寄存器不是一回事。存储器在 CPU 的外边，专门用来存放程序和数据，访问存储器的速度较慢。寄存器属于 CPU 的一部分，访问寄存器的速度很快。

存储器的主要功能是什么？为什么要把存储系统分成若干个不同层次？主要有哪些层次？ 解：存储器的主要功能是用来保存程序和数据。存储系统是由几个容量、速度和价存储系统和结构格各不相同的存储器用硬件、软件、硬件与软件相结合的方法连接起来的系统。把存储系统分成若干个不同层次的目的是为了解决存储容量、存取速度和价格之间的矛盾。由高速缓冲存储器、主存储器、辅助存储器构成的三级存储系统可以分为两个层次，其中高速缓存和主存间称为 Cache－主存存储层次（Cache 存储系统）；主存和辅存间称为主存—辅存存储层次（虚拟存储系统）。


什么是半导体存储器？它有什么特点？ 解：采用半导体器件制造的存储器，主要有 MOS 型存储器和双极型存储器两大类。半导体存储器具有容量大、速度快、体积小、可靠性高等特点。半导体随机存储器存储的信息会因为断电而丢失。

SRAM 记忆单元由６个 MOS 管组成，利用双稳态触发器来存储信息，可以对其进行读或写，只要电源不断电，信息将可保留。DRAM 记忆单元可以由４个和单个 MOS 管组成，利用栅极电容存储信息，需要定时刷新。

动态 RAM 为什么要刷新？一般有几种刷新方式？各有什么优缺点？ 解：DRAM 记忆单元是通过栅极电容上存储的电荷来暂存信息的，由于电容上的电荷会随着时间的推移被逐渐泄放掉，因此每隔一定的时间必须向栅极电容补充一次电荷，这个过程就叫做刷新。常见的刷新方式有集中式、分散式和异步式３种。集中方式的特点是读写操作时不受刷新工作的影响，系统的存取速度比较高；但有死区，而且存储容量越大，死区就越长。分散方式的特点是没有死区；但它加长了系统的存取周期，降低了整机的速度，且刷新过于频繁，没有充分利用所允许的最大刷新间隔。异步方式虽然也有死区，但比集中方式的死区小得多，而且减少了刷新次数，是比较实用的一种刷新方式。


DRAM 芯片和 SRAM 芯片通常有何不同？ 解：主要区别有： ① DRAM 记忆单元是利用栅极电容存储信息；SRAM 记忆单元利用双稳态触发器来存储信息。 ② DRAM 集成度高，功耗小，但存取速度慢，一般用来组成大容量主存系统；SRAM 的存取速度快，但集成度低，功耗也较大，所以一般用来组成高速缓冲存储器和小容量主存系统。 ③ SRAM 芯片需要有片选端 CS ，DRAM 芯片可以不设 CS ，而用行选通信号 RAS 、列计算机组成原理教师用书选通 CAS 兼作片选信号。 130 ④ SRAM 芯片的地址线直接与容量相关，而 DRAM 芯片常采用了地址复用技术，以减少地址线的数量。

有哪几种只读存储器？它们各自有何特点？ 解：MROM ：可靠性高，集成度高，形成批量之后价格便宜，但用户对制造厂的依赖性过大，灵活性差。 PROM ：允许用户利用专门的设备（编程器）写入自己的程序，但一旦写入后，其内容将无法改变。写入都是不可逆的，所以只能进行一次性写入。 EPROM ：不仅可以由用户利用编程器写入信息，而且可以对其内容进行多次改写。 EPROM 又可分为两种：紫外线擦除（UVEPROM）和电擦除（EEPROM）。闪速存储器：既可在不加电的情况下长期保存信息，又能在线进行快速擦除与重写，兼备了 EEPROM 和 RAM 的优点。

## 指令系统
指令长度和机器字长有什么关系？半字长指令、单字长指令、双字长指令分别表示什么意思？ 解：指令长度与机器字长没有固定的关系，指令长度可以等于机器字长，也可以大于或小于机器字长。通常，把指令长度等于机器字长的指令称为单字长指令；指令长度等于半个机器字长的指令称为半字长指令；指令长度等于两个机器字长的指令称为双字长指令。

零地址指令的操作数来自哪里？一地址指令中，另一个操作数的地址通常可采用什么寻址方式获得？各举一例说明。解：双操作数的零地址指令的操作数来自堆栈的栈顶和次栈顶。双操作数的一地址指令的另一个操作数通常可采用隐含寻址方式获得，即将另一操作数预先存放在累加器中。例如，前述零地址和一地址的加法指令。

试比较基址寻址和变址寻址。解：基址寻址和变址寻址在形成有效地址时所用的算法是相同的，但是它们两者实际上是有区别的。一般来说，变址寻址中变址寄存器提供修改量（可变的），而指令中提供基准值（固定的）；基址寻址中基址寄存器提供基准值（固定的），而指令中提供位移量（可变的）。这两种寻址方式应用的场合也不同，变址寻址是面向用户的，用于访问字符串、向量和数组等成批数据；而基址寻址面向系统，主要用于逻辑地址和物理地址的变换，用以解决程序在主存中的再定位和扩大寻址空间等问题。在某些大型机中，基址寄存器只能由特权指令来管理，用户指令无权操作和修改

什么叫主程序和子程序？调用子程序时还可采用哪几种方法保存返回地址？画图说明调用子程序的过程。解：主程序就是指通常的程序，而子程序是一组可以公用的指令序列，只要知道子程序的入口地址就能调用它。保存返回地址的方法有多种： （１） 用子程序的第一个字单元存放返回地址。转子指令把返回地址存放在子程序的第一个字单元中，子程序从第二个字单元开始执行。返回时将第一个字单元地址作为间接地址，采用间址方式返回主程序。 （２） 用寄存器存放返回地址。转子指令先把返回地址放到某一个寄存器中，再由子程序将寄存器中的内容转移到另一个安全的地方。 （３） 用堆栈保存返回地址。






